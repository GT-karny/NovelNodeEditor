# NovelNodeEditor

NovelNodeEditorは、ビジュアルノベルのシーン遷移をノードベースで設計できるReact Flow製のエディタです。ドラッグ&ドロップでノードを配置し、接続を作成しながらストーリー構造を俯瞰できます。ローカルストレージへの保存や既存データの読み込みにも対応しているため、ブラウザだけで軽快にプロトタイピングできます。

## 目次
- [プロジェクト概要](#プロジェクト概要)
- [主な機能](#主な機能)
- [動作環境](#動作環境)
- [セットアップ手順](#セットアップ手順)
- [開発ワークフロー](#開発ワークフロー)
- [ビルドとデプロイ](#ビルドとデプロイ)
- [操作ガイド](#操作ガイド)

## プロジェクト概要
- React + Viteをベースにしたシングルページアプリケーションです。
- React Flowでシーンノードを描画し、Tailwind CSSでダークテーマのUIを提供します。
- フロー状態はローカルストレージへ保存でき、ブラウザを跨いだ編集の継続が可能です。

## 主な機能
- ノードの追加・削除とドラッグによる配置調整
- 接続ハンドルをドラッグしてエッジを作成、右クリックメニューから削除
- 右クリックメニュー（ノード/キャンバス）からの操作ショートカット
- ノードダブルクリックでのタイトルインライン編集とサイドバー編集
- シーン情報（タイトル・概要）の自動保存と即時反映
- フローデータのローカルストレージへの保存 / 読み込み

## 動作環境
- Node.js 18以上（推奨: 20 LTS）
- npm 9以上
- モダンブラウザ（最新のChrome / Firefox / Edgeなど）

## セットアップ手順
```bash
# リポジトリのクローン
git clone <repository-url>
cd NovelNodeEditor

# 依存関係のインストール
npm install
```

## 開発ワークフロー
### 開発サーバーの起動
```bash
npm run dev
```
- ブラウザで表示されるURL（通常は http://localhost:5173 ）にアクセスします。
- 保存したコードはホットリロードで即時反映されます。

### ローカルデータのリセット
- ツールバーの「新規」ボタンでフローを初期状態に戻します。
- ブラウザのローカルストレージ（キー: `novel-node-editor-flow`）も同時にクリアされます。

## ビルドとデプロイ
### 本番ビルド
```bash
npm run build
```
- `dist/` ディレクトリに静的ファイルが生成されます。

### ビルド成果物のプレビュー
```bash
npm run preview
```
- ビルド済みファイルをローカルサーバーで検証できます。

### デプロイのヒント
- 生成された `dist/` の内容を静的ホスティングサービス（GitHub Pages、Netlify、Vercelなど）に配置するだけで公開できます。
- CI環境での利用時は `npm ci` + `npm run build` を組み合わせると再現性の高いビルドが可能です。

## 操作ガイド
- ノードをクリックすると右側のサイドバーでタイトルと概要を編集できます。
- ノードをダブルクリックするとタイトルのインライン編集モードになります。
- ノードまたはキャンバスを右クリックすると、コンテキストメニューから編集や追加を行えます。
- 接続線を右クリックすると削除確認ダイアログが表示されます。
- ツールバーの「保存」で現在のフローをローカルストレージに保存、「読み込み」で保存済みデータを復元できます。

ブラウザのみで完結する軽量なワークフローで、物語構造の整理やプロトタイプ制作にご活用ください。
